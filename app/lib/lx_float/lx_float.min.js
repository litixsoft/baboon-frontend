"use strict";angular.module("lx.float",[]).directive("lxFloat",function(){function a(a,b){var c=1..toFixed(b);c=c.substr(2);var d=parseInt("1"+c,10),e=parseFloat("."+c+"01");return a*(10*d)%10>=5&&(a+=e),Math.round(a*d)/d}function b(a,b){(0>b||b>20)&&(b=0),b=Math.floor(b);var c=Math.pow(10,b);return(Math.floor(parseFloat(a)*c)/c).toFixed(b)}var c=/^\-?\d+((\.|,)?(\d+)?)?$/;return{restrict:"A",require:"ngModel",scope:{min:"@",max:"@"},link:function(d,e,f,g){var h=2,i=!0,j=d.$eval(f.lxFloat);"number"==typeof j&&(h=j);var k=d.$eval(f.lxFloatRound);"boolean"==typeof k&&(i=k),f.$observe("lxFloat",function(a){a=d.$eval(a),"number"==typeof a&&(h=a)}),f.$observe("lxFloatRound",function(a){a=d.$eval(a),"boolean"==typeof a&&(i=a)}),f.$observe("min",function(b){b&&c.test(b)&&(d.minimun=a(parseFloat(b.replace(",",".")),h))}),f.$observe("max",function(b){b&&c.test(b)&&(d.maximum=a(parseFloat(b.replace(",",".")),h))}),g.$validators.lxfloat=function(a){return null===a||void 0===a?!0:c.test(a)},g.$validators.min=function(b){if(angular.isNumber(d.minimun)&&c.test(b)){var e="number"==typeof b?a(b,h):a(parseFloat(b.replace(",",".")),h);return e>=d.minimun}return!0},g.$validators.max=function(b){if(angular.isNumber(d.maximum)&&c.test(b)){var e="number"==typeof b?a(b,h):a(parseFloat(b.replace(",",".")),h);return e<=d.maximum}return!0},g.$parsers.push(function(b){return b?c.test(b)?"number"==typeof b?a(b,h):a(parseFloat(b.replace(",",".")),h):NaN:null}),g.$formatters.unshift(function(a){return isNaN(a)||null===a||(a=i?parseFloat(a).toFixed(h):b(a,h),a=a.replace(".",",")),a})}}});
//# sourceMappingURL=lx_float.min.js.map