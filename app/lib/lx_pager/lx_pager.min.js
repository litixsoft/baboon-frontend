"use strict";angular.module("lx.pager",[]).directive("lxPager",function(){return{restrict:"E",template:'<div><div class="btn-toolbar lx-pager"><div class="btn-group"><button class="btn btn-primary" ng-click="firstPage()" ng-disabled="currentPage == 1"><span class="glyphicon glyphicon-step-backward"></span></button><button class="btn btn-primary" ng-click="previousPage()" ng-disabled="currentPage == 1"><span class="glyphicon glyphicon-backward"></span></button></div><div class="btn-group"><input class="form-control count-control" type="text" ng-model="currentPage"></div><div class="btn-group"><button class="btn btn-primary" ng-disabled="true">of {{numberOfPages()}}</button></div><div class="btn-group"><button class="btn btn-primary" ng-click="nextPage()" ng-disabled="currentPage >= numberOfPages()"><span class="glyphicon glyphicon-forward"></span></button><button class="btn btn-primary" ng-click="lastPage()" ng-disabled="currentPage >= numberOfPages()"><span class="glyphicon glyphicon-step-forward"></span></button></div><div class="btn-group"><select class="form-control" ng-model="pageSize" ng-options="p for p in pageSizeOptions"></select></div><div class="btn-group"><button class="btn btn-primary" ng-disabled="true">{{count}} items</button></div></div></div>',replace:!0,scope:{count:"=",currentPage:"=?",onPaging:"&",pageSize:"@",pageSizes:"@"},link:function(a,b,c){function d(a,b){"number"==typeof a&&-1===b.indexOf(a)&&(b.push(a),b.sort(function(a,b){return a-b}))}var e=[1,5,10,25,100],f=10;a.pageSize=f,a.currentPage=1,a.count=a.count||0,c.$observe("pageSizes",function(b){var c=a.$eval(b);angular.isArray(c)&&c.length>0&&"number"==typeof c[0]?a.pageSizeOptions=c.sort(function(a,b){return a-b}):a.pageSizeOptions||(a.pageSizeOptions=e),a.pageSize&&d(a.pageSize,a.pageSizeOptions)}),c.$observe("pageSize",function(b){var c=a.$eval(b);"number"==typeof c?(a.pageSize=c,a.pageSizeOptions=a.pageSizeOptions||e,d(a.pageSize,a.pageSizeOptions)):a.pageSize=f}),a.refresh=function(){a.onPaging({pagingOptions:a.getOptions()})},a.skip=function(){return(a.currentPage-1)*a.pageSize},a.numberOfPages=function(){return a.pageSize<1&&(a.pageSize=1),Math.ceil(a.count/a.pageSize)},a.getOptions=function(){return{limit:a.pageSize,skip:a.skip()}},a.nextPage=function(){var b=a.currentPage,c=b*a.pageSize;c<a.count&&(a.currentPage=++b)},a.previousPage=function(){var b=a.currentPage;1!==b&&(a.currentPage=--b)},a.firstPage=function(){a.currentPage=1},a.lastPage=function(){a.currentPage=a.numberOfPages()||1},a.$watch("currentPage",function(b,c){b>0&&b!==c&&a.refresh()}),a.$watch("count",function(){var b=a.numberOfPages();a.currentPage>b&&b>0&&(a.currentPage=b)}),a.$watch("pageSize",function(b,c){a.currentPage>a.numberOfPages()?a.currentPage=a.numberOfPages()||1:b!==c&&a.refresh()})}}});
//# sourceMappingURL=lx_pager.min.js.map