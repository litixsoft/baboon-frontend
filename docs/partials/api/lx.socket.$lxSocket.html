<h1><code ng:non-bindable="">$lxSocket</code>
<div><span class="hint">service in module <code ng:non-bindable="">lx.socket</code>
</span>
</div>
</h1>
<div><h2 id="description">Description</h2>
<div class="description"><div class="lx-socket-lxsocket-page"><p>Mapper for btford.socket-io with extended functionality.</p>
</div></div>
<h2 id="dependencies">Dependencies</h2>
<ul class="dependencies"><li><code ng:non-bindable=""><a href="#/api/btford.socket-io">socket-io</a></code>
</li>
</ul>
<h2 id="usage">Usage</h2>
<div class="usage"><pre class="prettyprint linenums">$lxSocket($rootScope, socketFactory, $log, $timeout);</pre>
<h4 id="usage_parameters">Parameters</h4><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>$rootScope</td><td><a href="" class="label type-hint type-hint-object">object</a></td><td><div class="lx-socket-lxsocket-page"><p>The $rootScope</p>
</div></td></tr><tr><td>socketFactory</td><td><a href="" class="label type-hint type-hint-function">function</a></td><td><div class="lx-socket-lxsocket-page"><p>The btford.socket-io factory</p>
</div></td></tr><tr><td>$log</td><td><a href="" class="label type-hint type-hint-function">function</a></td><td><div class="lx-socket-lxsocket-page"><p>Angular $log service</p>
</div></td></tr><tr><td>$timeout</td><td><a href="" class="label type-hint type-hint-function">function</a></td><td><div class="lx-socket-lxsocket-page"><p>Angular timeout service</p>
</div></td></tr></tbody></table><h4 id="usage_returns">Returns</h4><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-object">object</a></td><td><div class="lx-socket-lxsocket-page"><p>$lxSocket The $lxSocket object</p>
</div></td></tr></table></div>
<div class="member method"><h2 id="methods">Methods</h2>
<ul class="methods"><li><h3 id="methods_addlistener">addListener(event, callback)</h3>
<div class="addlistener"><div class="lx-socket-lxsocket-addlistener-page"><p>Adds a listener on the socket
The same as on.</p>
</div><h5 id="methods_addlistener_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>event</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="lx-socket-lxsocket-addlistener-page"><p>The event to listen to</p>
</div></td></tr><tr><td>callback <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-function">function(data</a></td><td><div class="lx-socket-lxsocket-addlistener-page"><p>Callback function</p>
</div></td></tr><tr><td>callback.data <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-function">function</a></td><td><div class="lx-socket-lxsocket-addlistener-page"><p>Data callback function to be called after the event is raised</p>
</div></td></tr></tbody></table></div>
</li>
<li><h3 id="methods_forward">forward(event, scope)</h3>
<div class="forward"><div class="lx-socket-lxsocket-forward-page"><p>Forwards an socket event to a scope</p>
</div><h5 id="methods_forward_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>event</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="lx-socket-lxsocket-forward-page"><p>The event to listen to</p>
</div></td></tr><tr><td>scope <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-object">object</a></td><td><div class="lx-socket-lxsocket-forward-page"><p>The scope to forward the events to</p>
</div></td></tr></tbody></table></div>
</li>
<li><h3 id="methods_isconnected">isConnected()</h3>
<div class="isconnected"><div class="lx-socket-lxsocket-isconnected-page"><p>Checks whether the socket is connected and supplies true or false</p>
</div><h5 id="methods_isconnected_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="lx-socket-lxsocket-isconnected-page"><p>socket.connection.connected</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_on">on(event, callback, callback)</h3>
<div class="on"><div class="lx-socket-lxsocket-on-page"><p>Register an event on the socket</p>
</div><h5 id="methods_on_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>event</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="lx-socket-lxsocket-on-page"><p>The event to listen to</p>
</div></td></tr><tr><td>callback <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-function">function(data</a></td><td><div class="lx-socket-lxsocket-on-page"><p>Callback function</p>
</div></td></tr><tr><td>callback.data <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-function">function</a></td><td><div class="lx-socket-lxsocket-on-page"><p>Data callback function</p>
</div></td></tr><tr><td>callback <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-function">function</a></td><td><div class="lx-socket-lxsocket-on-page"><p>Callback function</p>
</div></td></tr></tbody></table></div>
</li>
<li><h3 id="methods_removelistener">removeListener(event, callback)</h3>
<div class="removelistener"><div class="lx-socket-lxsocket-removelistener-page"><p>Removes a listener from the socket
The same as on.</p>
</div><h5 id="methods_removelistener_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>event</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="lx-socket-lxsocket-removelistener-page"><p>The event to listen to</p>
</div></td></tr><tr><td>callback <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-function">function(data</a></td><td><div class="lx-socket-lxsocket-removelistener-page"><p>Callback function</p>
</div></td></tr><tr><td>callback.data <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-function">function</a></td><td><div class="lx-socket-lxsocket-removelistener-page"><p>Data callback function to be called after event is removed from socket</p>
</div></td></tr></tbody></table></div>
</li>
<li><h3 id="methods_set">set(host, options)</h3>
<div class="set"><div class="lx-socket-lxsocket-set-page"><p>Set the host and connection options for socket</p>
</div><h5 id="methods_set_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>host</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="lx-socket-lxsocket-set-page"><p>The host for socket</p>
</div></td></tr><tr><td>options <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-object">object</a></td><td><div class="lx-socket-lxsocket-set-page"><p>The options for socket connect</p>
</div></td></tr><tr><td>options.reconnection <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="lx-socket-lxsocket-set-page"><p>= true - Whether to reconnect automatically</p>
</div></td></tr><tr><td>options.reconnectionDelay <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-number">number</a></td><td><div class="lx-socket-lxsocket-set-page"><p>= 1000 - How long to wait before attempting a new reconnection</p>
</div></td></tr><tr><td>options.reconnectionDelayMax <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-number">number</a></td><td><div class="lx-socket-lxsocket-set-page"><p>= 20000 - Maximum amount of time to wait between reconnections.
Each attempt increases the reconnection by the amount specified by reconnectionDelay</p>
</div></td></tr><tr><td>options.timeout <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-number">number</a></td><td><div class="lx-socket-lxsocket-set-page"><p>= 5000 - Connection timeout before a connect_error and
connect_timeout events are emitted</p>
</div></td></tr><tr><td>options.reconnectionAttempts <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-number">number</a></td><td><div class="lx-socket-lxsocket-set-page"><p>= 100 - Maximum number of reconnection attempts</p>
</div></td></tr></tbody></table></div>
</li>
<li><h3 id="methods_transport">transport()</h3>
<div class="transport"><div class="lx-socket-lxsocket-transport-page"><p>Displays the current transport of socket.</p>
</div><h5 id="methods_transport_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="lx-socket-lxsocket-transport-page"><p>transport - Actual transport (polling|websocket)</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_emit">emit(eventName, data, callback)</h3>
<div class="emit"><div class="lx-socket-lxsocket-emit-page"><p>Send event with or without callback to socket server.</p>
</div><h5 id="methods_emit_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>eventName</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="lx-socket-lxsocket-emit-page"><p>Name of server event</p>
</div></td></tr><tr><td>data <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-object">object</a></td><td><div class="lx-socket-lxsocket-emit-page"><p>Data for server</p>
</div></td></tr><tr><td>callback <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-function">function(err, success</a></td><td><div class="lx-socket-lxsocket-emit-page"><p>Callback function</p>
</div></td></tr><tr><td>callback.err <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-function">function</a></td><td><div class="lx-socket-lxsocket-emit-page"><p>Error callback function</p>
</div></td></tr><tr><td>callback.success <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-function">function</a></td><td><div class="lx-socket-lxsocket-emit-page"><p>Success callback function</p>
</div></td></tr></tbody></table><h4 id="methods_emit_example">Example</h4>
<div class="example"><div class="lx-socket-lxsocket-emit-page"><p>With callback:
<pre class="prettyprint linenums">
    $lxSocket.emit('name', function (err, success) {
      if (err) {
        console.log(err.status, err.message, err.stack);
      } else {
        console.log(success.status, success.data)
      }
    });
</pre>
Without callback:
<pre class="prettyprint linenums">
    $lxSocket.emit('name');
</pre>
</div></div>
</div>
</li>
</ul>
</div>
</div>
